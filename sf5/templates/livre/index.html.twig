{% extends 'base.html.twig' %}

{% block title %}Liste des livres
{% endblock %}

{% block body %}
	<!-- Exercice : Afficher la liste des livres dans une table HTML -->

	<table class="table table-bordered table-striped">

		<thead>
			<tr>
				<th>ID</th>
				<th>Titre</th>
				<th>Auteur</th>
				<th>Catégorie</th>
				<th>Actions</th>
			</tr>
		</thead>

		<tbody>
			{% for livre in livres %}
				<tr>
					<td>{{ livre.id }}</td>
					<td>{{ livre.titre }}</td>
					<td>{{ livre.auteur }}</td>
					<td>{{ livre.categorie ? livre.categorie.titre : "" }}</td>
					<td>
						{# la fonction path() retourne l'url relative basée sur la route dont on passe le 'name' en paramètre #}
						<a href="{{ path("livre_modifier", {id: livre.id}) }}"><i class="fa fa-edit"></i></a>
						<a href="{{ path("livre_supprimer", {id: livre.id}) }}"><i class="fa fa-trash"></i></a>
					</td>
				</tr>
			{% endfor %}
		</tbody>

		<tfoot>
			<th colspan="3">Nombre de livres :</th>
			<td colspan="2">{{ livres|length }}</td>
		</tfoot>

	</table>
{% endblock %}
